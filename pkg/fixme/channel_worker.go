package fixme

// Worker неправильно реализует шаблон рабочих потоков с использованием каналов
// Функция должна запустить указанное количество рабочих горутин,
// каждая из которых должна читать задачи из входного канала, обрабатывать их
// и отправлять результаты в выходной канал до закрытия входного канала
func Worker(jobs <-chan int, results chan<- int, numWorkers int) {
	// Ошибка: запускаем только одного рабочего вместо numWorkers
	// Еще одна ошибка: отсутствие закрытия канала результатов

	// Запускаем только одного рабочего вместо numWorkers
	go func() {
		for job := range jobs {
			// Обрабатываем задачу (возводим в квадрат)
			results <- job * job
		}
	}()
}
